<html>

<head>
    <title>Enquiry Form</title>
    
</head>
<link rel="stylesheet" href="css/main.css">
<body>
    <div class="container">
        <form>

            <label for="Name">Your Name</label>
            <input type="text" id="Name" name="Name" placeholder="Your Name.."><br><br><br><br>

            <label for="Email">Email</label>
            <input type="text" id="Email" name="Email" placeholder="Your Email.."><br><br><br><br>

            <label for="Mobile">Mobile No.</label>
            <input type="text" id="Mobile" name="Mobile" placeholder="Mobile No..."><br><br><br><br>

            <label for="Query">Query</label>
            <textarea id="Query" name="Query" placeholder="Write something.."
                style="height:200px"></textarea><br><br><br><br>

            <input type="button" value="Submit" onclick="SendEnquiry()">

        </form>
    </div>
</body>
<script>
    function  SendEnquiry () {        
        const xhr = new XMLHttpRequest();
        xhr.open("POST", "https://localhost:7182/Enquiry");
        xhr.setRequestHeader("Access-Control-Allow-Origin","*");
        xhr.setRequestHeader("Content-Type", "application/json; charset=UTF-8");
        const body = JSON.stringify({
            name: document.getElementById("Name").value,
            email: document.getElementById("Email").value,
            mobile: document.getElementById("Mobile").value,
            query:document.getElementById("Query").value
        });
        console.log(body);
        xhr.onload = () => {
          if (xhr.readyState == 4 && xhr.status == 201) {
            console.log(JSON.parse(xhr.responseText));
          } else {
            console.log(`Error: ${xhr.status}`);
          }
        };
        xhr.send(body);            
    }
</script>
</html>